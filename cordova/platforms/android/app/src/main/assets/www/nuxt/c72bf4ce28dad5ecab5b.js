(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{388:function(e,t,r){var content=r(389);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("7132a15d",content,!0,{sourceMap:!1})},389:function(e,t,r){(t=r(12)(!1)).push([e.i,".theme--light.v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-divider{border-color:hsla(0,0%,100%,.12)}.v-divider{display:block;flex:1 1 0px;max-width:100%;height:0;max-height:0;border:solid;border-width:thin 0 0;transition:inherit}.v-divider--inset:not(.v-divider--vertical){max-width:calc(100% - 72px)}.v-application--is-ltr .v-divider--inset:not(.v-divider--vertical){margin-left:72px}.v-application--is-rtl .v-divider--inset:not(.v-divider--vertical){margin-right:72px}.v-divider--vertical{align-self:stretch;border:solid;border-width:0 thin 0 0;display:inline-flex;height:inherit;min-height:100%;max-height:100%;max-width:0;width:0;vertical-align:text-bottom}.v-divider--vertical.v-divider--inset{margin-top:8px;min-height:0;max-height:calc(100% - 16px)}",""]),e.exports=t},394:function(e,t,r){"use strict";r.r(t);r(11),r(6),r(5),r(4),r(8),r(23);var n=r(2),o=(r(38),r(10)),c=r(120);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={middleware:"auth",fetch:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=e.params,t.next=3,r.dispatch("rooms/getItem",n.id);case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{messages:[],newMessage:"",isWriting:!1,writingTimer:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({head:function(){return{title:"Room "+this.room.name}}},Object(c.b)({room:"rooms/item"})),mounted:function(){var e=this;this.$echo.private("rooms.".concat(this.room.id)).listen(".new.room.message",(function(data){e.messages.push(data),e.isWriting=!1})).listenForWhisper("typing",(function(data){e.isWriting=data,e.writingTimer&&clearTimeout(e.writingTimer),e.writingTimer=setTimeout((function(){e.isWriting=!1}),2e3)}))},methods:{sendMessage:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$axios.setHeader("X-Socket-Id",e.$echo.socketId()),t.next=3,e.$axios.post("api/messages",{body:e.newMessage,room_id:e.room.id}).then((function(t){var r=t.data.data;r.user_name=e.$auth.user.name,e.messages.push(r)}));case 3:e.newMessage="";case 4:case"end":return t.stop()}}),t)})))()},writingMessage:function(){this.$echo.private("rooms.".concat(this.room.id)).whisper("typing",{name:this.$auth.user.name})}}},v=r(65),h=r(89),m=r.n(h),f=r(364);r(388);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y=r(29).a.extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(e){var t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:O({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:O({role:"separator","aria-orientation":t},this.$attrs),on:this.$listeners})}}),x=r(371),j=r(372),k=r(135),_=r(393),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[r("v-card",[r("v-list",{attrs:{"three-line":""}},[e._l(e.messages,(function(t){return r("div",{key:t.id},[r("v-list-tile",[r("v-list-tile-content",[r("v-list-tile-title",[e._v("\n                  "+e._s(t.user_name)+"\n                ")]),e._v(" "),r("v-list-tile-sub-title",[e._v("\n                  "+e._s(t.body)+"\n                ")])],1)],1),e._v(" "),r("v-divider")],1)}))],2)],1),e._v(" "),r("v-flex",[r("v-text-field",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},keydown:e.writingMessage},model:{value:e.newMessage,callback:function(t){e.newMessage=t},expression:"newMessage"}}),e._v(" "),e.isWriting?r("span",[e._v(e._s(e.isWriting.name)+" writing message...")]):e._e()],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VCard:f.a,VDivider:y,VFlex:x.a,VLayout:j.a,VList:k.a,VTextField:_.a})}}]);